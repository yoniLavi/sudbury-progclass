<!DOCTYPE html>
<html>
  <head>
    <meta name="generator"
    content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>Lesson 4 - Commanding the line</title>
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="static/css/main.css" />
    <link rel="stylesheet" href="static/css/lesson.css" />

    <link rel="stylesheet" href="static/highlightjs/styles/default.css">
    <script src="static/highlightjs/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <header>
      <div class="level">4</div>
      <div class="title">לפקד על השורה</div>
    </header>
    <section class="level1 activity">
      <h1>שלב 14: רקע לאינטרקציה עם המחשב</h1>
      <ol>
        <li>
          	בשיעורים הקודמים, למדנו להשתמש בתכנות כדי לגרום למחשב לצייר את מה שאנחנו רוצים.
          	אבל (פרט למעט רנדומיזציה בשיעור האחרון) המחשב תמיד עשה אותו דבר בכל פעם שהרצנו את התוכנה.
          	בשיעור הזה נלמד לעשות אינטרקציה עם התוכנות שלנו כך שנוכל להשפיע על מה שהתוכנה עושה מבלי לשנות את הקוד.
        </li>
        <li>
          	במהלך היום-יום, אתם כנראה רגילים לתת למחשב הוראות בעיקר דרך לחיצות העכבר, אבל בשיעור הזה נלמד על דרך חזקה יותר לאינטרקציה - שורת הפקודה.
          	שורת הפקודה (CLI-Command Line Interface) זאת דרך לשלוט במחשב שהייתה קיימת הרבה לפני מציאו את החלונות ואת העכבר
          	והיא שימושית למתכנתים ומשתמשים מתקדמים אחרים כדי לגרום למחשב לעשות טריקים שהיה הרבה תר קשה לעשות עם ממשק חלונות.
        </li>
        <li>
          	בשביל שנוכל להתחיל להתכתב עם המחשב בעזרת שורת פקודה, אנחנו צריכים להשתמש ב-Shell (מעטפת).
          	Shell זה סוג של תוכנה שנותנת לנו שורה שאנחנו יכולים לכתוב בה פקודה, כשאנחנו לוחצים אנטר היא מריצה את הפקודה שלנו ואז מדפיסה על המסך את התוצאות של מה שעשינו.
          	ראינו כבר בשיעורים הקודמים את ה-Shell של IDLE שנותן לנו להזין פקודות פייתון קצרות. זה היה נחמד ונשתמש עוד ב-Shell של פייתון בעתיד, אבל מה שאנחנו צריכים עכשיו זה לשלוט במערכת ההפעלה של המחשב כולה, ולא רק בפייתון.
        </li>
        <li>
          Windows מגיע עם Shell יחסית פשוט שנקרא cmd, אבל הוא לא מספיק שימושי לטעמי ואני ארצה שנעבוד  Shell חזק יותר שנקרא BASH ואשר מגיע מובנה במערכת ההפעלה לינוקס.
          כדי להתקין את BASH במחשב עם Windows, צריך להוריד אותו מ-<a href="http://git-scm.com/download/n">כאן</a> ולבצע התקנה רגילה.
        </li>
        <li>
            אחרי ההתקנה, פתחו את Git-Bash במתפריט התחל ותקבלו מסך שחור נחמד שנראה בערך ככה
            <img src="static/img/bash-python.png" alt="bash-python" width="700" height="300">
        </li>
        <li>
          לפני הכל, הקלידו <code dir="ltr">python -V</code> (עם V גדולה)
          ולחצו אנטר כדי לראות האם-Bash מזהה את פייתון.
          <p>
              אם במקום , זה אומר שצריך להוסיף את הספרייה של פייתון למסלול החיפוש ב-Windows.
              תפתחו בתפריט התחל את powershell (עוד סוג של Shell :) )
              ותריצו בו את הפקודה הבאה - ע"י הדבקה בשורה אחת ואז לחיצה על אנטר.

              <pre class="sourceCode powershell"><code dir="ltr">[Environment]::SetEnvironmentVariable("Path", "$env:Path;C:\Python33\;C:\Python33\Scripts\", "User")</code></pre>
          </p>
          <p>
              יכול להיות שיהיו עם זה בעיות, או אפילו שלא מותקן לכם powershell, אז אל תהססו לבקש עזרה.
          </p>
        </li>
      </ol>
    </section>
    <section class="level1 activity">
      <h1>שלב 15: שלום לשורת הפקודה וניווט במערכת הקבצים</h1>
      <ol>
        <li>
          אנחנו לא הולכים להיכנס לזה כל-כך, אבל בעיקרון bash זה סוג של שפת תכנות,
          אז לפי החוק אתם צריכים להגיד שלום לעולם בעזרת הפקודה:
          <code>echo hello world</code>
        </li>
        <li>
          עכשיו שנכנסתם לעולם של bash, בואו נכיר כמה פקודות פשוטות שמאפשרות לנווט בין התיקיות במחשב.
          הרעיון הוא שבשורת הפקודה אנחנו תמיד נמצאים בתיקיה כלשהי במחשב והפקודה שנריץ תתבצע באותה התיקיה.
          הפקודה <code>pwd</code> (Print Working Directory) תראה לנו באיזו תיקיה אנחנו נמצאים עכשיו.
        </li>
        <li>
          תריצו את הפקודה <code>pwd</code> ותראו איפה אתפ נמצאים עכשיו.
          אם עדיין לא שיניתם תיקיה מאז שהפעלתם את bash, זאת אמורה להיות תיקיית הבית של המשתמש שלכם. תיכנסו לאותה תיקייה דרך חלון "המחשב שלי" כדי להתרשם שזה אותו דבר.
        </li>
        <li>
          כדי לעבור לתיקיה אחרת נוכל להשתמש בפקודה <code>cd</code> (Change Directory).
          <br>
          למשל, תריצו את הפקודה <code>cd Desktop</code> כדי להיכנס לתיקיה של שולחן העבודה.
          <br>
          תריצו שוב את הפקודה <code>pwd</code> כדי לראות שבאמת עברתם לתידיה חדשה.
        </li>
        <li>
          הפקודה <code>ls</code> (List) מאפשרת לכם לראות מה יש בתיקיה שאתם נמצאים בה כרגע.
          תריצו אותה ותשוו את התוצאות עם מה שרואים בחלון של "המחשב שלי".
          <br>
          סתם להשוואה, המסך שלכם אמור להיראות בערך ככה:
          <img src="static/img/bash.png" alt="bash" width="700" height="450">
        </li>
        <li>
          עכשיו תשקיעו שתי דקות ותשחקו עם הפקודות האלו כדי לעשות סיבוב בכונן ולראות מה יש בכל מיני תיקיות.
          בשביל לצאת מתיקייה שנכנסתם אליה תוכלו להשתמש ב<code>cd ..</code>
          וכדי להגיע הכי למעלה בכונן C (הכונן הראשי) תשתמשו ב-<code>cd /c</code>
          <br>
          טיפ: אם לוחצים על החץ למעלה במקלדת ב-bash, תוכלו לחזור לפקודה הקודמת שהרצתם. אם תמשיכו ללחוץ על החץ, תוכלו לחזור על כל ההיסטוריה של הפקודות.
        </li>
      </ol>
    </section>
    <!-- perhaps at first upload only until here -->
    <section class="level1 activity">
      <h1>שלב 16: מריצים קוד פייתון דרך שורת הפקודה</h1>
      <ol>
        <li>
          אחד הדברים המרכזיים שאפשר לעשות ב-bash זה להריץ תוכנות.
          תעברו לתיקיה שאתם רוצים לעבוד בה ותריצו את הפקודה הבאה בשביל להפעיל את עורך הטקסט notepad וליצור קובץ פייתון חדש.
          <p><code dir="ltr">notepad helloer.py</code></p>
          הערה: אנחנו נשתמש בשיעור הזה ב-notepad במקום ב-IDLE. בעיקרון, זה בכלל לא משנה באיזה עורך תשתמשו ובשיעורים הבאים תוכלו לבחור כל עורך שנוח לכם.
        </li>
        <li>
          זוכרים את התוכנה הפשוטה הזאת שכתבנו בשיעור הראשון?
          בואו נשתמש בה שוב עכשיו.
          <br>
          תכתבו אותה בתוך הקובץ שנפתח ואז תסגרו את החלון.
          <pre class="sourceCode python"><code>print("Hello world!")</code></pre>
        </li>
        <li>
          עכשיו שחזרתם ל-bash, תוכלו להריץ את התוכנה ע"י כך שתריצו את הפקודה הבאה:
          <p><code dir="ltr">python helloer.py</code></p>
        </li>
        <li>
          בהנחה שהכל סבבה, בואו נמשיך לעבוד על הקובץ. תריצו שוב את notepad, אבל הפעם עם הסימן & (אמפרסנד) בסוף השורה, בשביל ש-bash לא יחכה לעריכה שתשסיים ונוכל לעשות שינויים בקלות.
          <p><code dir="ltr">notepad helloer.py &</code></p>
        </li>
        <li>
          בואו נשנה את התוכנה שלנו בשביל שנוכל להגיד שלום לדברים ואנשים אחרים (ולא רק לעולם).
          תשנו את הקוד ל:
          <pre class="sourceCode python"><code>name = "Yoni"
print("Hello " + name)
</code></pre>
        תריצו שוב את הקוד ע"י הפקודה <code dir="ltr">python helloer.py</code> ב-bash, מבלי לסגור את העורך. שימו לב שסימן הפלוס <code>+</code> מאפשר במקרה הזה לחבר שני קטעי טקסט ולא מספרים.
        <br>
        בהנחה שלא קוראים לכם יוני, תשנו את הקוד כך שידפיס את השם שלכם ותבדקו ב-bash שזה עובד.
        </li>
        <li>
          רגע, אבל אמרנו שבשיעור הזה נדבר על אינטרקציה וקלט.
          אז ככה, דרך פשוטה להעביר מידע לתוך התוכנה היא פשוט ע"י הוספה שלו לתוך הפקודה.
          <br>
          תשנו את הקוד בעורך לזה:
          <pre class="sourceCode python"><code>import sys
name = sys.argv[1]
print("Hello " + name)
</code></pre>

        תריצו ב-bash את הפקודה <code dir="ltr">python helloer.py sky</code> ותראו מה קורה.

        הספריה <code>sys</code> נותנת כל מיני כלים בשביל לעבוד עם מערכת ההפעלה
        והרשימה <code>sys.argv</code> כוללת את השורה של הפקודה שהרצנו, אז אנחנו רוצים לקחת את השם של הדבר שאומרים לו שלום מתוך המילה הראשונה בפקודה אחרי שם התוכנה.
        </li>
        <li>
          הפקודה הקודמת איפשרה לנו להעביר קלט עוד לפני שהתוכנה מתחילה לרוץ, אבל הרבה פעמים נרצה להעביר לתוכנה קלט נוסף אחרי שהיא כבר רצה. תשנו את הקוד למה שמופיע פה ותריצו:
          <pre class="sourceCode python"><code>name = input("What's your name? ")
print("Hello " + name)
</code></pre>
          הפונקציה <code>input</code> מציגה למשתמש שאלה ואחרי ונותנת מקום להקליד תשובה. את התשובה שקיבלנו מהמשתמש אנחנו אחרי זה שמים במשתנה.
        </li>
      </ol>
    </section>
    <section class="level1 activity">
      <h1>שלב 17: תנאים</h1>
      <ol>
        <li>
            בשיעורים הקודמים ידענו תמיד מה המידע שאנחנו עובדים איתו,
            אבל עכשיו פתאום שאנחנו תלויים במשתמשים שמריצים את התוכנה,
            יכולים להיות כל מיני מקרים ולפעמים נרצה להריץ קוד שונה במקרים שונים.
            הדרך שלנו לעשות את זה היא להשתמש בפקודה <code>if</code>.
        </li>
        <li>
          תריצו את הקוד הבא ותראו מה קורה:
          <pre class="sourceCode python"><code>name = input("What's your name? ")
if name == "Yoni":
    print("Oh, it's just you")
else:
    print("Hello " + name)
</code></pre>
          לפקודת <code>if</code> הזאת יש שני חלקים:
          <ul>
            <li>
                החלק הראשון שמתחיל ב<code>if</code> עושה בדיקה ואם היא עוברת, הוא מריץ את השורה שבתוכו. שימו לב ש-<code>==</code> זאת הדרך לבדוק האם משהו שווה למשהו (כי הסימן <code>=</code> כבר תפוס בשביל סתם לשים דברים במשתנים).
            </li>
            <li>
                החלק השני שמתחיל ב<code>else</code> מכיל את הקוד שירוץ עם הבדיקה נכשלת.
            </li>
          </ul>
        </li>
        <li>
          שימו לב שאפשר גם לעשות <code>if</code> בלי החלק השני, ואז אם הבדיקה נכשלת, פשוט לא יקרה כלום.
          תנסו להרי, את הקוד הבא עם כל מיני שמות ותראו מה יקרה:
          <pre class="sourceCode python"><code>name = input("What's your name? ")
if name == "Yoni":
    print("Oh, it's just you")
</code></pre>
        </li>
        <li>
          מצד שני, אפשר גם להוסיף עוד בדיקות ע"י הוספה של קטעי קוד שמתחילים ב <code>elif</code> (Else If).
          למשל ככה (תנסו להריץ עם שמות שונים):
          <pre class="sourceCode python"><code>name = input("What's your name? ")
if name == "Yoni":
    print("Oh, it's just you")
elif name == "world":
    print("Hi there world!")
elif name == "sky":
    print("Sky, what's up?")
else:
    print("Hello " + name)
</code></pre>
        </li>
      </ol>
    </section>
    <section class="level1 activity">
      <h1>שלב 17: לולאות אינסופיות</h1>
      <ol>
        בשלב הזה, אנחנו כמעט מוכנים ליצור shell בסיסי משלנו.
        אבל בשביל שנוכל להריץ יותר מפקודה אחת בכל פעם נצטרך להשתמש בלולאה.
        <li>
          בשיעורים הקודמים השתמשנו בלולאה מסוג <code>for</code> ואמרנו לפייתון כמה פעמים צריך להריץ את הקוד.
          הפעם אנחנו לא יודעים להגיד מראש כמה פעמים המשתמש ירצה להשתמש בתוכנה ולכן נצטרך לולאה אחרת.
          תריצו את הקוד הבא ותראו מה קורה:
          <pre class="sourceCode python"><code>def hello():
    print("Hello " + name)

name = input("What's your name? ")
while True:
    hello()
</code></pre>
          אופס!
          יצא שהקוד שלנו ממשיך לרוץ לנצח. זה מה שנקרא לולאה אינסופית וזה כמעט תמיד רעיון רע.
          בשביל להפסיק את זה, תלחצו בו זמנית על Ctrl+C כדי לשלוח לתוכנה interrupt שמבקש ממנה להפסיק.
        </li>
        <li>
          אז ראינו שלולאת <code>while True</code> רצה לנצח אם לא עוצרים אותה.
          יש כמובן דרך יפה לעצור את הלולאה מבלי שנצטרך להרוג את התוכנה בכח.
          תריצו את הקוד הבא ותראו מה קורה. כשנמאס לכם, תכתבו stop וזה אמור לגרום לתוכנה לעצור.
          <pre class="sourceCode python"><code>def hello():
    print("Hello " + name)

def bye():
    print("Bye " + name)

name = input("What's your name? ")

while True:
    command = input("What should I do, " + name + "? ")
    if command == "hello":
        hello()
    elif command == "bye":
        bye()
    elif command == "stop":
        break
    else:
        print("You're funny, there's no such command")
</code></pre>
          הפקודת שהשתמשנו בה <code>break</code> פשוט מפסיקה את הלולאה שהיא נמצאת בתוכה ונותנת לתוכנה להסתיים.
        </li>
      </ol>
    </section>
    <section class="level1 activity">
        <h1>שלב 18: שליטה בצבים</h1>
        אוקי, הגענו לסוף השיעור, עכשיו אתם מוכנים לבנות shell קטן בעצמכם עם כל הפקודות שבא לכם.
        הכנתי פה קוד עם כמה פקודות בסיסיות, כולל ציור משולש בעזרת ספריית turtle.
        תריצו את התוכנה ותראו איך אתם יכולים לשפר אותה ע"י כך שתוסיפו את הפקודות שבא לכם.
        למשל, אתם יכולים להוסיף פקודות בשביל לצייר צורות נוספות.
        <pre class="sourceCode python"><code>from turtle import *
def triangle():
    for count in range(3):
        forward(100)
        left(120)

    exitonclick()

def bye():
    print("Bye " + name)

name = input("What's your name? ")

while True:
    command = input("What should I do, " + name + "? ")
    if command == "triangle":
        triangle()
    elif command == "bye":
        bye()
    elif command == "stop":
        break
    else:
        print("You're funny, there's no such command")
</code></pre>
    </section>
  </body>
</html>
